# ğŸ—ï¸ Project Management Backend Architecture Diagram

## ğŸ“Š Complete System Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                           ğŸ‘¤ CLIENT (Browser/Postman)                       â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ HTTP Request
                                   â”‚ GET /api/v1/healthcheck
                                   â”‚
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ğŸš€ ENTRY POINT: src/index.js                         â”‚
â”‚                                                                             â”‚
â”‚  1. dotenv.config() â”€â”€â”€â–º Load .env file                                    â”‚
â”‚     â”œâ”€ PORT=3000                                                            â”‚
â”‚     â”œâ”€ MONGO_URI=mongodb://...                                              â”‚
â”‚     â””â”€ CORS_ORIGIN=http://localhost:5173                                   â”‚
â”‚                                                                             â”‚
â”‚  2. connectDB() â”€â”€â”€â”€â”€â”€â”€â–º Connect to MongoDB                                â”‚
â”‚     â”‚                                                                       â”‚
â”‚     â”œâ”€ Success â”€â”€â”€â”€â”€â”€â–º Start Express Server                                â”‚
â”‚     â”‚                  app.listen(3000)                                     â”‚
â”‚     â”‚                                                                       â”‚
â”‚     â””â”€ Failure â”€â”€â”€â”€â”€â”€â–º Exit process                                        â”‚
â”‚                        process.exit(1)                                      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ Imports & Uses
                                   â”‚
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    âš™ï¸  EXPRESS APP: src/app.js                              â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚               ğŸ”§ MIDDLEWARE CHAIN (runs in order)               â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚                                                                 â”‚       â”‚
â”‚  â”‚  1ï¸âƒ£  express.json({ limit: '16kb' })                            â”‚       â”‚
â”‚  â”‚      Purpose: Parse JSON request bodies                        â”‚       â”‚
â”‚  â”‚      Example: { "username": "john" } â†’ req.body.username       â”‚       â”‚
â”‚  â”‚                                                                 â”‚       â”‚
â”‚  â”‚  2ï¸âƒ£  express.urlencoded({ extended: true })                     â”‚       â”‚
â”‚  â”‚      Purpose: Parse form data                                  â”‚       â”‚
â”‚  â”‚      Example: username=john â†’ req.body.username                â”‚       â”‚
â”‚  â”‚                                                                 â”‚       â”‚
â”‚  â”‚  3ï¸âƒ£  express.static('public')                                   â”‚       â”‚
â”‚  â”‚      Purpose: Serve static files                               â”‚       â”‚
â”‚  â”‚      Example: /images/logo.png â†’ public/images/logo.png        â”‚       â”‚
â”‚  â”‚                                                                 â”‚       â”‚
â”‚  â”‚  4ï¸âƒ£  cors({ origin: '...', credentials: true })                â”‚       â”‚
â”‚  â”‚      Purpose: Allow cross-origin requests from frontend        â”‚       â”‚
â”‚  â”‚      Sets headers: Access-Control-Allow-Origin, etc.           â”‚       â”‚
â”‚  â”‚                                                                 â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                    ğŸ—ºï¸  ROUTE REGISTRATION                       â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚                                                                 â”‚       â”‚
â”‚  â”‚  app.use('/api/v1/healthcheck', healthCheckRouter)             â”‚       â”‚
â”‚  â”‚       â”‚                                                         â”‚       â”‚
â”‚  â”‚       â””â”€â”€â–º Prefix: /api/v1/healthcheck                         â”‚       â”‚
â”‚  â”‚            All routes in healthCheckRouter get this prefix     â”‚       â”‚
â”‚  â”‚                                                                 â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ Request matches /api/v1/healthcheck
                                   â”‚
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸ—ºï¸  ROUTER: src/routes/healthcheck.routes.js                   â”‚
â”‚                                                                             â”‚
â”‚  const router = Router()                                                   â”‚
â”‚                                                                             â”‚
â”‚  router.route('/').get(healthCheck)                                        â”‚
â”‚         â”‚      â”‚   â”‚                                                        â”‚
â”‚         â”‚      â”‚   â””â”€â”€â–º HTTP Method: GET                                   â”‚
â”‚         â”‚      â””â”€â”€â”€â”€â”€â”€â–º Path: / (combined with prefix = /api/v1/healthcheck)â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Controller function to call                        â”‚
â”‚                                                                             â”‚
â”‚  Full URL: GET /api/v1/healthcheck/                                        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ Calls controller function
                                   â”‚
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ğŸ® CONTROLLER: src/controllers/healthcheck.controllers.js         â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚                    asyncHandler Wrapper                       â”‚         â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚
â”‚  â”‚  â”‚                                                         â”‚  â”‚         â”‚
â”‚  â”‚  â”‚  const healthCheck = asyncHandler(async (req, res) => { â”‚  â”‚         â”‚
â”‚  â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚         â”‚
â”‚  â”‚  â”‚    â”‚  Your actual controller logic:         â”‚          â”‚  â”‚         â”‚
â”‚  â”‚  â”‚    â”‚                                         â”‚          â”‚  â”‚         â”‚
â”‚  â”‚  â”‚    â”‚  1. Do business logic (DB queries, etc) â”‚         â”‚  â”‚         â”‚
â”‚  â”‚  â”‚    â”‚  2. Create response object              â”‚          â”‚  â”‚         â”‚
â”‚  â”‚  â”‚    â”‚  3. Send JSON response                  â”‚          â”‚  â”‚         â”‚
â”‚  â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚         â”‚
â”‚  â”‚  â”‚                                                         â”‚  â”‚         â”‚
â”‚  â”‚  â”‚    res.status(200).json(                               â”‚  â”‚         â”‚
â”‚  â”‚  â”‚      new ApiResponse(200, { message: 'Server running' })â”‚ â”‚         â”‚
â”‚  â”‚  â”‚    )                                                    â”‚  â”‚         â”‚
â”‚  â”‚  â”‚  })                                                     â”‚  â”‚         â”‚
â”‚  â”‚  â”‚                                                         â”‚  â”‚         â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚
â”‚  â”‚                                                               â”‚         â”‚
â”‚  â”‚  If error occurs â”€â”€â–º asyncHandler catches it â”€â”€â–º next(err)   â”‚         â”‚
â”‚  â”‚                                                               â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ Creates response using
                                   â”‚
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ğŸ“¦ UTILITY: src/utils/api-response.js                       â”‚
â”‚                                                                             â”‚
â”‚  class ApiResponse {                                                       â”‚
â”‚    constructor(statusCode, data, message = 'Success') {                    â”‚
â”‚      this.statusCode = statusCode    // 200                                â”‚
â”‚      this.data = data                // { message: 'Server running' }      â”‚
â”‚      this.message = message          // 'Success'                          â”‚
â”‚      this.success = statusCode < 400 // true                               â”‚
â”‚    }                                                                        â”‚
â”‚  }                                                                          â”‚
â”‚                                                                             â”‚
â”‚  Creates standardized response:                                            â”‚
â”‚  {                                                                          â”‚
â”‚    "statusCode": 200,                                                      â”‚
â”‚    "data": { "message": "Server is running" },                             â”‚
â”‚    "message": "Success",                                                   â”‚
â”‚    "success": true                                                         â”‚
â”‚  }                                                                          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ Response sent back
                                   â”‚
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                           ğŸ‘¤ CLIENT RECEIVES RESPONSE                       â”‚
â”‚                                                                             â”‚
â”‚  HTTP/1.1 200 OK                                                           â”‚
â”‚  Content-Type: application/json                                            â”‚
â”‚                                                                             â”‚
â”‚  {                                                                          â”‚
â”‚    "statusCode": 200,                                                      â”‚
â”‚    "data": { "message": "Server is running" },                             â”‚
â”‚    "message": "Success",                                                   â”‚
â”‚    "success": true                                                         â”‚
â”‚  }                                                                          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ Database Layer Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸ’¾ DATABASE CONNECTION FLOW                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  src/index.js
       â”‚
       â”‚ import connectDB from './db/index.js'
       â”‚
       â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   src/db/index.js                   â”‚
  â”‚                                     â”‚
  â”‚   connectDB = async () => {         â”‚
  â”‚     await mongoose.connect(         â”‚
  â”‚       process.env.MONGO_URI         â”‚
  â”‚     )                               â”‚
  â”‚   }                                 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ Establishes connection
                â”‚
                â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚      ğŸƒ MongoDB Database            â”‚
  â”‚                                     â”‚
  â”‚  Database: projmanagement           â”‚
  â”‚                                     â”‚
  â”‚  Collections:                       â”‚
  â”‚    â””â”€ users                         â”‚
  â”‚    â””â”€ projects (future)             â”‚
  â”‚    â””â”€ tasks (future)                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â–²
                â”‚
                â”‚ Mongoose ODM (Object Data Modeling)
                â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   src/models/user.models.js         â”‚
  â”‚                                     â”‚
  â”‚   Defines schema and methods        â”‚
  â”‚   for User collection               â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ‘¤ User Model Deep Dive

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ“‹ USER MODEL: src/models/user.models.js                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                    Schema Definition                         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                              â”‚
  â”‚  const userSchema = new Schema({                            â”‚
  â”‚    avatar: {                                                â”‚
  â”‚      url: String,                    // Profile pic URL     â”‚
  â”‚      localPath: String               // File path on server â”‚
  â”‚    },                                                        â”‚
  â”‚    username: {                                              â”‚
  â”‚      type: String,                                          â”‚
  â”‚      required: true,                 // Must provide        â”‚
  â”‚      unique: true,                   // No duplicates       â”‚
  â”‚      index: true                     // Faster searches     â”‚
  â”‚    },                                                        â”‚
  â”‚    email: String (required, unique),                        â”‚
  â”‚    password: String (required),      // Will be hashed      â”‚
  â”‚    refreshToken: String,             // For JWT auth        â”‚
  â”‚    isEmailVerified: Boolean,                                â”‚
  â”‚    forgotPasswordToken: String,                             â”‚
  â”‚    emailVerificationToken: String,                          â”‚
  â”‚    // ... etc                                               â”‚
  â”‚  }, {                                                        â”‚
  â”‚    timestamps: true                  // Adds createdAt,     â”‚
  â”‚  })                                  // updatedAt           â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                    Pre-Save Hook (Middleware)                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                              â”‚
  â”‚  userSchema.pre('save', async function(next) {              â”‚
  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚    â”‚  Runs BEFORE saving user to database      â”‚          â”‚
  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                              â”‚
  â”‚    if (!this.isModified('password')) {                      â”‚
  â”‚      return next()  // Skip if password unchanged          â”‚
  â”‚    }                                                         â”‚
  â”‚                                                              â”‚
  â”‚    this.password = await bcrypt.hash(                       â”‚
  â”‚      this.password,  // Plain text password                â”‚
  â”‚      10              // Salt rounds (security strength)     â”‚
  â”‚    )                                                         â”‚
  â”‚    // Password is now hashed!                               â”‚
  â”‚    // Example: "password123" â†’ "$2b$10$aXFEo..."           â”‚
  â”‚                                                              â”‚
  â”‚    next()  // Continue with save                            â”‚
  â”‚  })                                                          â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                    Model Export                              â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                              â”‚
  â”‚  export const User = mongoose.model('User', userSchema)     â”‚
  â”‚                â”‚                      â”‚          â”‚           â”‚
  â”‚                â”‚                      â”‚          â””â”€ Schema   â”‚
  â”‚                â”‚                      â””â”€ Collection name     â”‚
  â”‚                â””â”€ Variable to use in controllers            â”‚
  â”‚                                                              â”‚
  â”‚  Usage in controllers:                                      â”‚
  â”‚    const user = await User.create({ ... })                  â”‚
  â”‚    const users = await User.find({ ... })                   â”‚
  â”‚    const user = await User.findById(id)                     â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ Utility Files Interaction

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ğŸ”§ UTILITIES OVERVIEW                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  1ï¸âƒ£  asyncHandler.js - Error Handling Wrapper              â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                            â”‚
  â”‚  WITHOUT asyncHandler:                                     â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
  â”‚  â”‚ const myController = async (req, res, next) => {       â”‚
  â”‚  â”‚   try {                                      â”‚         â”‚
  â”‚  â”‚     // your code                             â”‚         â”‚
  â”‚  â”‚   } catch (error) {                          â”‚         â”‚
  â”‚  â”‚     next(error)                              â”‚         â”‚
  â”‚  â”‚   }                                          â”‚         â”‚
  â”‚  â”‚ }                                            â”‚         â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
  â”‚                                                            â”‚
  â”‚  WITH asyncHandler:                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
  â”‚  â”‚ const myController = asyncHandler(           â”‚         â”‚
  â”‚  â”‚   async (req, res) => {                      â”‚         â”‚
  â”‚  â”‚     // your code - errors caught automatically!       â”‚
  â”‚  â”‚   }                                          â”‚         â”‚
  â”‚  â”‚ )                                            â”‚         â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
  â”‚                                                            â”‚
  â”‚  How it works:                                             â”‚
  â”‚    asyncHandler returns a function that:                  â”‚
  â”‚    1. Wraps your async function in Promise.resolve()      â”‚
  â”‚    2. Catches any errors with .catch()                    â”‚
  â”‚    3. Passes errors to next() automatically               â”‚
  â”‚                                                            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  2ï¸âƒ£  api-response.js - Success Response Format             â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                            â”‚
  â”‚  class ApiResponse {                                       â”‚
  â”‚    constructor(statusCode, data, message) { ... }         â”‚
  â”‚  }                                                         â”‚
  â”‚                                                            â”‚
  â”‚  Usage:                                                    â”‚
  â”‚    res.json(new ApiResponse(                              â”‚
  â”‚      200,                      // HTTP status             â”‚
  â”‚      { users: [...] },         // Actual data             â”‚
  â”‚      'Users fetched'           // Message                 â”‚
  â”‚    ))                                                      â”‚
  â”‚                                                            â”‚
  â”‚  Client receives:                                          â”‚
  â”‚    {                                                       â”‚
  â”‚      "statusCode": 200,                                   â”‚
  â”‚      "data": { "users": [...] },                          â”‚
  â”‚      "message": "Users fetched",                          â”‚
  â”‚      "success": true                                      â”‚
  â”‚    }                                                       â”‚
  â”‚                                                            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  3ï¸âƒ£  api-errors.js - Error Response Format                 â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                            â”‚
  â”‚  class ApiError extends Error {                            â”‚
  â”‚    constructor(statusCode, message, errors) { ... }       â”‚
  â”‚  }                                                         â”‚
  â”‚                                                            â”‚
  â”‚  Usage:                                                    â”‚
  â”‚    throw new ApiError(                                     â”‚
  â”‚      404,                       // HTTP status            â”‚
  â”‚      'User not found',          // Message                â”‚
  â”‚      ['Invalid user ID']        // Detailed errors        â”‚
  â”‚    )                                                       â”‚
  â”‚                                                            â”‚
  â”‚  Client receives:                                          â”‚
  â”‚    {                                                       â”‚
  â”‚      "statusCode": 404,                                   â”‚
  â”‚      "data": null,                                        â”‚
  â”‚      "message": "User not found",                         â”‚
  â”‚      "success": false,                                    â”‚
  â”‚      "errors": ["Invalid user ID"]                        â”‚
  â”‚    }                                                       â”‚
  â”‚                                                            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  4ï¸âƒ£  constants.js - Centralized Configuration              â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                            â”‚
  â”‚  export const UserRolesEnum = {                            â”‚
  â”‚    ADMIN: 'admin',                                         â”‚
  â”‚    PROJECT_ADMIN: 'project_admin',                         â”‚
  â”‚    MEMBER: 'member'                                        â”‚
  â”‚  }                                                         â”‚
  â”‚                                                            â”‚
  â”‚  export const TaskStatusEnum = {                           â”‚
  â”‚    TODO: 'todo',                                           â”‚
  â”‚    IN_PROGRESS: 'in_progress',                             â”‚
  â”‚    DONE: 'done'                                            â”‚
  â”‚  }                                                         â”‚
  â”‚                                                            â”‚
  â”‚  Usage:                                                    â”‚
  â”‚    if (user.role === UserRolesEnum.ADMIN) { ... }         â”‚
  â”‚    task.status = TaskStatusEnum.IN_PROGRESS               â”‚
  â”‚                                                            â”‚
  â”‚  Benefits:                                                 â”‚
  â”‚    âœ… No typos                                             â”‚
  â”‚    âœ… Autocomplete in IDE                                  â”‚
  â”‚    âœ… Easy to change values                                â”‚
  â”‚    âœ… Can use in validation                                â”‚
  â”‚                                                            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Complete Request/Response Lifecycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            EXAMPLE: User Registration Request Flow (Future)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  1. CLIENT SENDS REQUEST
     â†“
     POST http://localhost:3000/api/v1/auth/register
     Headers: { "Content-Type": "application/json" }
     Body: {
       "username": "johndoe",
       "email": "john@example.com",
       "password": "password123"
     }


  2. EXPRESS RECEIVES REQUEST â†’ src/app.js
     â†“
     Middleware Chain Executes:
       â”œâ”€ express.json()  â”€â”€â–º Parses body â†’ req.body = { username, email, password }
       â”œâ”€ express.urlencoded()  â”€â”€â–º Skipped (not form data)
       â”œâ”€ express.static()  â”€â”€â–º Skipped (not requesting static file)
       â””â”€ cors()  â”€â”€â–º Checks origin, sets CORS headers


  3. ROUTE MATCHING â†’ src/routes/auth.routes.js
     â†“
     app.use('/api/v1/auth', authRouter)
       â””â”€ router.route('/register').post(registerUser)


  4. CONTROLLER EXECUTES â†’ src/controllers/auth.controllers.js
     â†“
     const registerUser = asyncHandler(async (req, res) => {

       // Step 4a: Extract data from request
       const { username, email, password } = req.body

       // Step 4b: Validate data
       if (!username || !email || !password) {
         throw new ApiError(400, "All fields required")
       }

       // Step 4c: Check if user exists
       const existingUser = await User.findOne({
         $or: [{ username }, { email }]
       })

       if (existingUser) {
         throw new ApiError(409, "User already exists")
       }

       // Step 4d: Create user
       const user = await User.create({
         username,
         email,
         password  // Will be hashed by pre-save hook!
       })

       // Step 4e: Remove password from response
       const createdUser = await User.findById(user._id).select("-password")

       // Step 4f: Send response
       return res.status(201).json(
         new ApiResponse(201, createdUser, "User registered successfully")
       )
     })


  5. PRE-SAVE HOOK EXECUTES â†’ src/models/user.models.js
     â†“
     userSchema.pre('save', async function(next) {
       // Password "password123" â†’ "$2b$10$aXFEo..."
       this.password = await bcrypt.hash(this.password, 10)
       next()
     })


  6. DATABASE OPERATION â†’ MongoDB
     â†“
     Document inserted into 'users' collection:
     {
       "_id": "65abc123...",
       "username": "johndoe",
       "email": "john@example.com",
       "password": "$2b$10$aXFEo...",  â† Hashed!
       "isEmailVerified": false,
       "avatar": {
         "url": "https://placehold.co/200x200",
         "localPath": ""
       },
       "createdAt": "2024-01-15T10:30:00.000Z",
       "updatedAt": "2024-01-15T10:30:00.000Z"
     }


  7. RESPONSE SENT TO CLIENT
     â†“
     HTTP/1.1 201 Created
     Content-Type: application/json

     {
       "statusCode": 201,
       "data": {
         "_id": "65abc123...",
         "username": "johndoe",
         "email": "john@example.com",
         "isEmailVerified": false,
         "avatar": { "url": "https://placehold.co/200x200" },
         "createdAt": "2024-01-15T10:30:00.000Z"
         // Note: password NOT included!
       },
       "message": "User registered successfully",
       "success": true
     }


  8. ERROR HANDLING (if something went wrong)
     â†“
     If error thrown:
       throw new ApiError(400, "Validation failed")

     asyncHandler catches it:
       Promise.resolve(...).catch(err => next(err))

     Error passed to Express error handler:
       Returns error response to client
```

---

## ğŸ›ï¸ MVC Architecture Pattern

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Traditional MVC vs Your API Setup                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  TRADITIONAL WEB APP (with Views)          YOUR API (JSON responses)
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚    CLIENT    â”‚                          â”‚    CLIENT    â”‚
  â”‚   (Browser)  â”‚                          â”‚ (React/Vue)  â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                          â”‚
         â”‚ HTTP Request                             â”‚ HTTP Request
         â–¼                                          â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚     CONTROLLER      â”‚                   â”‚     CONTROLLER      â”‚
  â”‚  (Business Logic)   â”‚                   â”‚  (Business Logic)   â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                          â”‚
         â”‚ Queries                                  â”‚ Queries
         â–¼                                          â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚       MODEL         â”‚                   â”‚       MODEL         â”‚
  â”‚  (Database Schema)  â”‚                   â”‚  (Database Schema)  â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                          â”‚
         â”‚ Returns data                             â”‚ Returns data
         â–¼                                          â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚        VIEW         â”‚                   â”‚    JSON RESPONSE    â”‚
  â”‚   (HTML Template)   â”‚                   â”‚   (ApiResponse)     â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                          â”‚
         â”‚ Rendered HTML                            â”‚ JSON Data
         â–¼                                          â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚    CLIENT    â”‚                          â”‚    CLIENT    â”‚
  â”‚   (Browser)  â”‚                          â”‚ (React/Vue)  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”’ Security Features in Your Backend

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ğŸ” SECURITY MEASURES                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  1ï¸âƒ£  PASSWORD HASHING (bcrypt)
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Plain Password â†’ Bcrypt Hash                  â”‚
      â”‚                                                â”‚
      â”‚  Input:  "password123"                         â”‚
      â”‚  Output: "$2b$10$aXFEo/kL8..."                 â”‚
      â”‚                                                â”‚
      â”‚  Benefits:                                     â”‚
      â”‚    â€¢ One-way encryption (can't reverse)        â”‚
      â”‚    â€¢ Salt included (prevents rainbow tables)   â”‚
      â”‚    â€¢ Computationally expensive (slow = secure) â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  2ï¸âƒ£  CORS (Cross-Origin Resource Sharing)
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Controls which domains can access your API    â”‚
      â”‚                                                â”‚
      â”‚  cors({                                        â”‚
      â”‚    origin: 'http://localhost:5173',            â”‚
      â”‚    credentials: true                           â”‚
      â”‚  })                                            â”‚
      â”‚                                                â”‚
      â”‚  Benefits:                                     â”‚
      â”‚    â€¢ Prevents unauthorized domain access       â”‚
      â”‚    â€¢ Allows cookies/auth headers               â”‚
      â”‚    â€¢ Protects against CSRF attacks             â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  3ï¸âƒ£  REQUEST SIZE LIMITS
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Prevents DOS attacks via large payloads       â”‚
      â”‚                                                â”‚
      â”‚  express.json({ limit: '16kb' })               â”‚
      â”‚                                                â”‚
      â”‚  Benefits:                                     â”‚
      â”‚    â€¢ Prevents server overload                  â”‚
      â”‚    â€¢ Blocks malicious large requests           â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  4ï¸âƒ£  PASSWORD FIELD PROTECTION
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Never send password in responses              â”‚
      â”‚                                                â”‚
      â”‚  const user = await User                       â”‚
      â”‚    .findById(id)                               â”‚
      â”‚    .select("-password")  â† Exclude password    â”‚
      â”‚                                                â”‚
      â”‚  Benefits:                                     â”‚
      â”‚    â€¢ Password never exposed in API responses   â”‚
      â”‚    â€¢ Even hashed passwords stay secret         â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  5ï¸âƒ£  ENVIRONMENT VARIABLES (.env)
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Sensitive data NOT in code                    â”‚
      â”‚                                                â”‚
      â”‚  .env file (NOT committed to git):             â”‚
      â”‚    MONGO_URI=mongodb://...                     â”‚
      â”‚    JWT_SECRET=supersecretkey                   â”‚
      â”‚    PORT=3000                                   â”‚
      â”‚                                                â”‚
      â”‚  Benefits:                                     â”‚
      â”‚    â€¢ Secrets not in source code                â”‚
      â”‚    â€¢ Different values per environment          â”‚
      â”‚    â€¢ Easy to rotate credentials                â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ File Structure & Responsibilities

```
projmanagement/
â”‚
â”œâ”€â”€ src/
â”‚   â”‚
â”‚   â”œâ”€â”€ index.js                    ğŸš€ ENTRY POINT
â”‚   â”‚   â””â”€ Responsibilities:
â”‚   â”‚       â€¢ Load environment variables
â”‚   â”‚       â€¢ Connect to database
â”‚   â”‚       â€¢ Start Express server
â”‚   â”‚       â€¢ Handle startup errors
â”‚   â”‚
â”‚   â”œâ”€â”€ app.js                      âš™ï¸ EXPRESS CONFIG
â”‚   â”‚   â””â”€ Responsibilities:
â”‚   â”‚       â€¢ Create Express app
â”‚   â”‚       â€¢ Configure middleware
â”‚   â”‚       â€¢ Register routes
â”‚   â”‚       â€¢ Set CORS policies
â”‚   â”‚
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â””â”€â”€ index.js                ğŸ’¾ DATABASE
â”‚   â”‚       â””â”€ Responsibilities:
â”‚   â”‚           â€¢ Connect to MongoDB
â”‚   â”‚           â€¢ Handle connection errors
â”‚   â”‚           â€¢ Export connection function
â”‚   â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ user.models.js          ğŸ“‹ DATA SCHEMA
â”‚   â”‚       â””â”€ Responsibilities:
â”‚   â”‚           â€¢ Define User schema
â”‚   â”‚           â€¢ Add validation rules
â”‚   â”‚           â€¢ Create pre/post hooks
â”‚   â”‚           â€¢ Export User model
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ healthcheck.routes.js   ğŸ—ºï¸ URL MAPPING
â”‚   â”‚       â””â”€ Responsibilities:
â”‚   â”‚           â€¢ Map URLs to controllers
â”‚   â”‚           â€¢ Define HTTP methods
â”‚   â”‚           â€¢ Group related endpoints
â”‚   â”‚           â€¢ Add route-specific middleware
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â””â”€â”€ healthcheck.controllers.js  ğŸ® BUSINESS LOGIC
â”‚   â”‚       â””â”€ Responsibilities:
â”‚   â”‚           â€¢ Handle request logic
â”‚   â”‚           â€¢ Validate input data
â”‚   â”‚           â€¢ Call model methods
â”‚   â”‚           â€¢ Format and send responses
â”‚   â”‚
â”‚   â”œâ”€â”€ middlewares/                ğŸ”§ REQUEST PROCESSORS
â”‚   â”‚   â””â”€ (Future middleware files)
â”‚   â”‚       â””â”€ Responsibilities:
â”‚   â”‚           â€¢ Authentication checks
â”‚   â”‚           â€¢ Request validation
â”‚   â”‚           â€¢ Error handling
â”‚   â”‚           â€¢ Logging
â”‚   â”‚
â”‚   â”œâ”€â”€ validators/                 âœ… DATA VALIDATION
â”‚   â”‚   â””â”€ (Future validator files)
â”‚   â”‚       â””â”€ Responsibilities:
â”‚   â”‚           â€¢ Validate request data
â”‚   â”‚           â€¢ Sanitize inputs
â”‚   â”‚           â€¢ Return validation errors
â”‚   â”‚
â”‚   â””â”€â”€ utils/                      ğŸ› ï¸ HELPER FUNCTIONS
â”‚       â”œâ”€â”€ api-response.js         â†’ Standardize success responses
â”‚       â”œâ”€â”€ api-errors.js           â†’ Standardize error responses
â”‚       â”œâ”€â”€ async-handler.js        â†’ Wrap async functions
â”‚       â””â”€â”€ constants.js            â†’ Store app-wide constants
â”‚
â”œâ”€â”€ public/                         ğŸ“¦ STATIC FILES
â”‚   â””â”€â”€ images/                     â†’ Store uploaded images
â”‚
â”œâ”€â”€ .env                            ğŸ” ENVIRONMENT VARIABLES
â”œâ”€â”€ package.json                    ğŸ“¦ DEPENDENCIES
â””â”€â”€ node_modules/                   ğŸ“š INSTALLED PACKAGES
```

---

## ğŸ¯ Key Concepts Explained

### Middleware Chain

```
Request arrives
    â†“
[Middleware 1] â†’ express.json()      â”€â”
    â†“                                  â”‚
[Middleware 2] â†’ express.urlencoded() â”‚â†’ Each can modify req/res
    â†“                                  â”‚  or end the request
[Middleware 3] â†’ cors()                â”‚
    â†“                                  â”‚
[Middleware 4] â†’ Your route handler  â”€â”˜
    â†“
Response sent
```

### Async/Await with Error Handling

```
Traditional Approach:           With asyncHandler:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function() {             asyncHandler(async () => {
  try {                          // Just write your code
    const data = await ...       const data = await ...
    res.json(data)               res.json(data)
  } catch(err) {               })
    next(err)                  // Errors auto-caught!
  }
}
```

### Schema vs Model

```
Schema:                         Model:
â”€â”€â”€â”€â”€â”€                         â”€â”€â”€â”€â”€â”€
Blueprint/Definition           Working copy
Like a class definition        Like an instance
Defines structure              Used to create/query documents

const schema = new Schema()    const Model = mongoose.model()
schema.add(field)              Model.create()
schema.pre('save')             Model.findOne()
```

---

## ğŸ’­ Mental Model Summary

Think of your backend as a **restaurant**:

- **index.js** = Restaurant opening (unlock doors, turn on lights)
- **app.js** = Restaurant setup (arrange tables, set menu)
- **Routes** = Waiters (take orders, direct to kitchen)
- **Controllers** = Chefs (prepare the food/response)
- **Models** = Recipes (how to structure the food/data)
- **Database** = Pantry (where ingredients/data are stored)
- **Middleware** = Quality checks (check reservation, clean table)
- **Utils** = Kitchen tools (standardize plating, handle errors)

**Request Flow**:

1. Customer (client) enters restaurant (server)
2. Checked at door (middleware)
3. Waiter takes order (route)
4. Chef prepares food (controller)
5. Uses recipe and ingredients (model + database)
6. Food served on standardized plate (ApiResponse)
7. Customer receives meal (client gets JSON)

---

## ğŸ› Bug Noted

**File**: `src/models/user.models.js` (Line 71)

```javascript
// Current (WRONG):
export const User = mongoose.model('User, userSchema');

// Should be (FIXED):
export const User = mongoose.model('User', userSchema);
```

Missing closing quote after 'User' - this will cause a syntax error!

---

## ğŸš€ Next Steps to Deepen Understanding

1. **Add console.logs** to trace request flow
2. **Create a user registration endpoint** to see the full stack in action
3. **Add error handling middleware** to see how errors flow
4. **Create a login endpoint** to understand authentication
5. **Add JWT tokens** for secure authentication

---

**Created**: November 4, 2025  
**Purpose**: Educational reference for understanding backend architecture
